<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
    <title>LogicMaster | æ™ºèƒ½ä¸­åŒ»è®¡ç®—å¼•æ“Ž</title>
    <!-- ä¿æŒ Tailwind CDN ä»¥ç®€åŒ–é…ç½®ï¼Œç”Ÿäº§çŽ¯å¢ƒå»ºè®®ä¹Ÿé€šè¿‡ PostCSS å¤„ç† -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&family=Noto+Serif+SC:wght@400;600;700;900&family=JetBrains+Mono:wght@400;700&display=swap');
      
      :root {
        /* Modern Medical Theme Variables */
        --bg-paper: #ffffff;
        --bg-soft: #f8fafc;
        --text-primary: #1e293b;
        --text-secondary: #475569;
        --brand-color: #4f46e5;
        
        /* TCM AI Report Theme Variables (Global Injection) */
        --report-primary: #0f766e; /* Teal 700 */
        --report-secondary: #854d0e; /* Amber 700 */
        --report-accent: #be123c; /* Rose 700 */
        --report-bg: #FDFBF7; /* Cream/Paper */
        --report-border: #E2E8F0;
        --report-font-serif: 'Noto Serif SC', serif;
        --report-font-sans: 'Noto Sans SC', sans-serif;
      }

      body {
        background-color: var(--bg-soft);
        background-image: 
          radial-gradient(circle at 0% 0%, rgba(59, 130, 246, 0.05), transparent 40%), 
          radial-gradient(circle at 100% 100%, rgba(236, 72, 153, 0.05), transparent 40%);
        color: var(--text-primary);
        font-family: 'Noto Sans SC', sans-serif;
        min-height: 100vh;
        overflow-x: hidden;
        -webkit-tap-highlight-color: transparent;
      }

      .font-serif-sc { font-family: 'Noto Serif SC', serif; }
      .font-mono-sc { font-family: 'JetBrains Mono', monospace; }

      /* Mobile Safe Area Fixes */
      .safe-area-pb {
        padding-bottom: env(safe-area-inset-bottom, 20px);
      }

      /* Scrollbar */
      ::-webkit-scrollbar { width: 8px; }
      ::-webkit-scrollbar-track { background: transparent; }
      ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
      ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
      
      /* =========================================
         AI MARKDOWN RENDERING (Chat & Report)
      ========================================= */
      .markdown-body {
        font-family: 'Noto Sans SC', sans-serif;
        font-size: 0.95rem;
        line-height: 1.7;
        color: #334155;
      }
      .markdown-body h1, .markdown-body h2, .markdown-body h3 {
        font-family: 'Noto Serif SC', serif;
        font-weight: 700;
        margin-top: 1.5em;
        margin-bottom: 0.8em;
        color: #1e293b;
      }
      .markdown-body h1 { font-size: 1.5em; border-bottom: 1px solid #e2e8f0; padding-bottom: 0.3em; }
      .markdown-body h2 { font-size: 1.25em; color: #0f766e; }
      .markdown-body h3 { font-size: 1.1em; color: #4338ca; }
      
      .markdown-body p { margin-bottom: 1em; }
      
      .markdown-body ul { list-style-type: disc; padding-left: 1.5em; margin-bottom: 1em; }
      .markdown-body ol { list-style-type: decimal; padding-left: 1.5em; margin-bottom: 1em; }
      .markdown-body li { margin-bottom: 0.3em; }
      
      .markdown-body strong { font-weight: 700; color: #0f172a; }
      .markdown-body em { font-style: italic; color: #be123c; }
      
      .markdown-body blockquote {
        border-left: 4px solid #cbd5e1;
        padding-left: 1em;
        color: #64748b;
        margin: 1em 0;
        font-style: italic;
        background: #f8fafc;
        padding: 0.5em 1em;
        border-radius: 0 0.5em 0.5em 0;
      }
      
      .markdown-body code {
        background-color: #f1f5f9;
        padding: 0.2em 0.4em;
        border-radius: 0.3em;
        font-family: 'JetBrains Mono', monospace;
        font-size: 0.85em;
        color: #be123c;
      }
      
      .markdown-body pre {
        background-color: #1e293b;
        color: #f8fafc;
        padding: 1em;
        border-radius: 0.5em;
        overflow-x: auto;
        margin: 1em 0;
      }
      .markdown-body pre code {
        background-color: transparent;
        color: inherit;
        padding: 0;
      }

      .markdown-body table {
        width: 100%;
        border-collapse: collapse;
        margin: 1em 0;
        font-size: 0.9em;
      }
      .markdown-body th, .markdown-body td {
        border: 1px solid #e2e8f0;
        padding: 0.5em 0.75em;
        text-align: left;
      }
      .markdown-body th {
        background-color: #f8fafc;
        font-weight: 700;
        color: #475569;
      }

      /* Specific AI Report Legacy Styles (HTML Mode) */
      .tcm-report-container h1 { font-family: var(--report-font-serif); font-weight: 900; font-size: 2rem; color: #1e293b; margin-bottom: 1.5rem; border-bottom: 1px solid #e2e8f0; padding-bottom: 1rem; text-align: center; }
      .tcm-report-container h2 { font-family: var(--report-font-serif); font-weight: 700; font-size: 1.5rem; color: var(--report-primary); margin-top: 2rem; margin-bottom: 1.25rem; padding-bottom: 0.5rem; border-bottom: 2px solid var(--report-border); display: flex; align-items: center; gap: 0.5rem; }
      .tcm-report-container h3 { font-family: var(--report-font-serif); font-weight: 700; font-size: 1.125rem; color: #0f172a; margin-top: 1.5rem; margin-bottom: 0.75rem; border-left: 4px solid var(--report-secondary); padding-left: 0.75rem; }

      /* Loading Screen */
      .loading-screen {
        display: none;
        position: fixed;
        inset: 0;
        background: #f8fafc;
        z-index: 9999;
        flex-direction: column;
        justify-content: center;
        align-items: center;
      }
      #root:empty + .loading-screen { display: flex; }
      .loading-logo { font-size: 3rem; margin-bottom: 1rem; animation: pulse 2s infinite ease-in-out; }
      .loading-title { font-family: 'Noto Serif SC', serif; font-weight: 900; font-size: 1.5rem; color: #1e293b; margin-bottom: 0.5rem; }
      .loading-subtitle { font-size: 0.875rem; color: #64748b; font-family: 'JetBrains Mono', monospace; }
      .loading-bar { width: 120px; height: 4px; background: #e2e8f0; border-radius: 2px; margin-top: 2rem; overflow: hidden; position: relative; }
      .loading-bar::after { content: ''; position: absolute; left: 0; top: 0; height: 100%; width: 40%; background: #6366f1; border-radius: 2px; animation: progress 1.5s infinite ease-in-out; }
      @keyframes pulse { 0%, 100% { transform: scale(1); opacity: 1; } 50% { transform: scale(1.1); opacity: 0.8; } }
      @keyframes progress { 0% { transform: translateX(-100%); } 100% { transform: translateX(300%); } }
    </style>
  <script type="importmap">
{
  "imports": {
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.2.0/",
    "react-markdown": "https://aistudiocdn.com/react-markdown@^10.1.0",
    "remark-gfm": "https://aistudiocdn.com/remark-gfm@^4.0.0",
    "rehype-raw": "https://aistudiocdn.com/rehype-raw@^7.0.0",
    "@vitejs/plugin-react": "https://aistudiocdn.com/@vitejs/plugin-react@^5.1.1",
    "react/": "https://aistudiocdn.com/react@^19.2.0/",
    "react": "https://aistudiocdn.com/react@^19.2.0",
    "vite": "https://aistudiocdn.com/vite@^7.2.4",
    "@supabase/supabase-js": "https://aistudiocdn.com/@supabase/supabase-js@^2.84.0"
  }
}
</script>
</head>
  <body>
    <div id="root"></div>
    <div class="loading-screen">
       <div class="loading-logo">ðŸ’Š</div>
       <div class="loading-title">LogicMaster TCM</div>
       <div class="loading-subtitle">System Initializing...</div>
       <div class="loading-bar"></div>
    </div>
    <script type="module" src="/index.tsx"></script>
  </body>
</html>